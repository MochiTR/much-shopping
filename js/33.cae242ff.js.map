{"version":3,"file":"js/33.cae242ff.js","mappings":"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","sources":["webpack://test/./src/views/UserCart.vue","webpack://test/./src/components/OrderFormModal.vue","webpack://test/./src/components/OrderFormModal.vue?106f","webpack://test/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\r\n<div class=\"container text-white pb-5\" style=\"margin-top:56px\">\r\n<LoadingAnimation :active=\"loading\"></LoadingAnimation>\r\n<div class=\"row row-cols-1 justify-content-center h-100\" style=\"min-height:100vh\">\r\n<div class=\"col\" v-if=\"cart.carts\">\r\n<div class=\"overflow-auto\">\r\n    <table class=\"table mt-4 text-white text-nowrap\">\r\n  <thead>\r\n    <tr>\r\n      <th width=\"200\"></th>\r\n      <th width=\"240\">品名</th>\r\n      <th width=\"150\">數量</th>\r\n      <th width=\"150\">單價</th>\r\n      <th>備註</th>\r\n      <th></th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr v-for=\"cart in cart.carts\" :key=\"cart.id\">\r\n      <td>\r\n      <img class=\"img-fluid\" :src=\"cart.product.imageUrl\" style=\"height:150px; width:200px;object-fit: cover;object-position: center;\">\r\n      </td>\r\n      <td><a href=\"#\" @click.prevent=\"getProduct(cart.product_id)\">{{cart.product.title}}</a></td>\r\n      <td class=\"text-right\">\r\n          <div class=\"input-group input-group-sm\">\r\n               <input type=\"number\" class=\"form-control\" min=\"1\" v-model.number=\"cart.qty\" @change=\"updateCart(cart)\" :disabled=\"this.status.loadingItem===cart.id\">\r\n                <div class=\"input-group-text\">/ {{ cart.product.unit }}</div>\r\n          </div>\r\n      </td>\r\n      <td>\r\n       {{$filters.currency(cart.final_total)}}\r\n      </td>\r\n      <td>\r\n        <textarea class=\"form-control\" placeholder=\"輸入備註\" id=\"floatingTextarea2\" style=\"height:150px;resize:none;\"></textarea>\r\n      </td>\r\n      <td>\r\n      <button type=\"button\" class=\"btn btn-outline-danger\" @click.prevent=\"deleteCart(cart)\"><i class=\"bi bi-trash3-fill\"></i></button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n</div>\r\n  <div class=\"text-start\">\r\n    <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"clearCart\">清空購物車</button>\r\n  </div>\r\n  <div class=\"text-end\">\r\n    總計：{{$filters.currency(cart.final_total)}}\r\n    </div>\r\n    <hr>\r\n    <div class=\"input-group\">\r\n        <input class=\"form-control\" v-model=\"couponCode\"><button class=\"input-group-text btn btn-outline-secondary\" @click=\"useCoupon\">使用優惠券</button>\r\n    </div>\r\n    <hr>\r\n    <div class=\"input-group\">\r\n        <input class=\"form-control\" value=\"總計：\" disabled><input class=\"form-control w-25\" style=\"border-left:0px\" :value=$filters.currency(cart.final_total) disabled><button class=\"input-group-text btn btn-outline-primary w-50 w-lg-75\" @click=\"openForm\">結帳</button>\r\n    </div>\r\n</div>\r\n<div class=\"col text-center mt-5\" v-else>\r\n  <h2>購物車目前沒有商品</h2>\r\n  <p class=\"display-1\" @click=\"toHome\" style=\"cursor:pointer;\"><span class=\"display-5\">將商品加入購物車吧！</span><i class=\"bi bi-three-dots\"></i><i class=\"bi bi-cart3\"></i></p>\r\n</div>\r\n</div>\r\n<orderFormModal ref=\"OrderModal\" @emit-form=\"createOrder\"></OrderFormModal>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport orderFormModal from '@/components/OrderFormModal'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      tempProduct: {},\r\n      loading: false,\r\n      status: {\r\n        loagindItem: ''\r\n      },\r\n      cart: {},\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      },\r\n      couponCode: ''\r\n    }\r\n  },\r\n  components: {\r\n    orderFormModal\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProductions () {\r\n      this.loading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.loading = false\r\n          if (res.data.success) {\r\n            this.products = res.data.products\r\n          }\r\n        })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/product/${id}`)\r\n    },\r\n    getCart () {\r\n      this.loading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.loading = false\r\n          this.cart = res.data.data\r\n          console.log(this.cart.carts)\r\n          if (this.cart.carts.length === 0) {\r\n            this.cart.carts = 0\r\n          }\r\n        })\r\n    },\r\n    updateCart (cart) {\r\n      this.loading = true\r\n      this.status.loadingItem = cart.id\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${cart.id}`\r\n      const cartitem = {\r\n        product_id: cart.product_id,\r\n        qty: cart.qty\r\n      }\r\n      this.$http.put(api, { data: cartitem })\r\n        .then((res) => {\r\n          this.loading = false\r\n          this.status.loadingItem = ''\r\n          this.getCart()\r\n        })\r\n    },\r\n    deleteCart (cart) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${cart.id}`\r\n      this.$http.delete(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.emitter.emit('push-message', {\r\n              style: 'success',\r\n              title: '已移除購物車內商品'\r\n            })\r\n            this.getCart()\r\n          }\r\n        })\r\n    },\r\n    clearCart () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`\r\n      this.$http.delete(api)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.emitter.emit('push-message', {\r\n              style: 'success',\r\n              title: '購物車已清空'\r\n            })\r\n            this.getCart()\r\n          }\r\n        })\r\n    },\r\n    useCoupon () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.couponCode\r\n      }\r\n      this.$http.post(api, { data: coupon })\r\n        .then((res) => {\r\n          this.getCart()\r\n          console.log(this.couponCode)\r\n        })\r\n    },\r\n    openForm () {\r\n      this.$refs.OrderModal.showModal()\r\n    },\r\n    createOrder (order) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      this.$http.post(url, { data: order })\r\n        .then((res) => {\r\n          console.log(res)\r\n          if (res.data.success) {\r\n            this.emitter.emit('push-message', {\r\n              style: 'success',\r\n              title: '已建立訂單'\r\n            })\r\n            this.clearCart()\r\n            this.$refs.OrderModal.closeModal()\r\n            this.$router.push(`/checkout/${res.data.orderId}`)\r\n          } else {\r\n            this.emitter.emit('push-message', {\r\n              style: 'danger',\r\n              title: '已建立訂單',\r\n              content: res.data.message\r\n            })\r\n          }\r\n        })\r\n    },\r\n    toHome () {\r\n      this.$router.push('/')\r\n    }\r\n  },\r\n  created () {\r\n    this.getProductions()\r\n    this.getCart()\r\n    window.scrollTo(0, 0)\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n<div class=\"modal fade text-dark\" tabindex=\"-1\" ref=\"modal\">\r\n  <div class=\"modal-dialog modal-xl\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">建立訂單</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"mt-5 row justify-content-center\">\r\n      <V-Form class=\"col-md-8\" v-slot=\"{ errors }\"\r\n            @submit=\"sendFormData\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Email</label>\r\n          <V-Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['email'] }\"\r\n                   placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                   v-model=\"form.user.email\"></V-Field>\r\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n          <V-Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                   placeholder=\"請輸入姓名\" rules=\"required\"\r\n                   v-model=\"form.user.name\"></V-Field>\r\n          <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n          <V-Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                   placeholder=\"請輸入電話\" rules=\"required\"\r\n                   v-model=\"form.user.tel\"></V-Field>\r\n          <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n          <V-Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                   placeholder=\"請輸入地址\" rules=\"required\"\r\n                   v-model=\"form.user.address\"></V-Field>\r\n          <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"message\" class=\"form-label\">留言</label>\r\n          <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\r\n                    v-model=\"form.message\"></textarea>\r\n        </div>\r\n        <div class=\"text-end\">\r\n          <button type=\"button\" class=\"btn btn-secondary me-3\" data-bs-dismiss=\"modal\">關閉</button>\r\n          <button class=\"btn btn-danger\">送出訂單</button>\r\n        </div>\r\n      </V-Form>\r\n    </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  data () {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    showModal () {\r\n      this.modal.show()\r\n    },\r\n    closeModal () {\r\n      this.modal.hide()\r\n    },\r\n    sendFormData () {\r\n      this.$emit('emit-form', this.form)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderFormModal.vue?vue&type=template&id=0dfd38a2\"\nimport script from \"./OrderFormModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderFormModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\te\\\\much-shopping\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserCart.vue?vue&type=template&id=42d4acbe\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\te\\\\much-shopping\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","width","placeholder","id","_hoisted_15","value","disabled","_hoisted_27","_hoisted_28","_hoisted_29","_createElementBlock","_createVNode","_component_LoadingAnimation","active","$data","carts","_hoisted_6","_Fragment","_renderList","cart","key","src","product","imageUrl","href","onClick","$options","product_id","title","_hoisted_8","type","min","qty","$event","onChange","status","loadingItem","_toDisplayString","unit","_ctx","currency","final_total","_hoisted_13","_hoisted_19","_hoisted_21","_hoisted_23","_hoisted_26","_component_orderFormModal","ref","onEmitForm","tabindex","for","_hoisted_4","_component_V_Form","onSubmit","errors","_component_V_Field","name","rules","user","email","_component_ErrorMessage","_hoisted_10","_hoisted_12","tel","_hoisted_14","address","_hoisted_16","cols","rows","message","_hoisted_17","data","form","methods","showModal","this","modal","show","closeModal","hide","sendFormData","$emit","mounted","Modal","$refs","__exports__","products","tempProduct","loading","loagindItem","couponCode","components","orderFormModal","inject","getProductions","api","$http","get","then","res","success","getProduct","$router","push","getCart","console","log","length","updateCart","cartitem","put","deleteCart","delete","emitter","emit","clearCart","useCoupon","coupon","code","post","openForm","OrderModal","createOrder","order","url","orderId","content","toHome","created","window","scrollTo","render"],"sourceRoot":""}