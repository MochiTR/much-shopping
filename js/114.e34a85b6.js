"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[114],{1114:function(t,e,o){o.r(e),o.d(e,{default:function(){return T}});var i=o(3396),s=o(7139),l=o(9242);const n={class:"container text-white vh-100",style:{"margin-top":"56px"}},a={class:"row"},u={class:"col-8"},r=["src"],c={class:"col-4 mt-5"},p={class:"fs-3"},d=(0,i._)("br",null,null,-1),h={class:"fs-4"},m={class:"text-muted text-decoration-line-through"},g=(0,i.Uk)("售價"),v=(0,i._)("br",null,null,-1),b=(0,i._)("br",null,null,-1),_={class:"fs-4"},y=(0,i.Uk)("特價"),f=(0,i._)("br",null,null,-1),w=(0,i._)("hr",null,null,-1),k=(0,i.uE)('<option selected disabled value="0">請選擇數量</option><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>',11),x=[k],U=["disabled"],$={key:0,class:"spinner-border text-primary spinner-border-sm",role:"status"},q=(0,i.Uk)("加入購物車");function z(t,e,o,k,z,I){const C=(0,i.up)("LoadingAnimation");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(C,{active:z.loading},null,8,["active"]),(0,i._)("div",n,[(0,i._)("div",a,[(0,i._)("div",u,[(0,i.Uk)(" 商品 / "+(0,s.zw)(z.product.category)+" ",1),(0,i._)("h1",null,(0,s.zw)(z.product.title),1),(0,i._)("p",null,(0,s.zw)(z.product.description),1),(0,i._)("img",{src:z.product.imageUrl,style:{width:"600px",height:"400px","object-fit":"cover","object-position":"center"},class:"img-fluid"},null,8,r)]),(0,i._)("div",c,[(0,i._)("p",p,(0,s.zw)(z.product.title),1),d,(0,i._)("p",h,(0,s.zw)(z.product.content),1),(0,i._)("p",m,[g,v,(0,i.Uk)("NT$ "+(0,s.zw)(t.$filters.currency(z.product.origin_price)),1),b]),(0,i._)("p",_,[y,f,(0,i.Uk)("NT$ "+(0,s.zw)(t.$filters.currency(z.product.price)),1)]),w,(0,i.wy)((0,i._)("select",{class:"form-select form-select-lg mb-3 me-3","aria-label":".form-select-lg example","onUpdate:modelValue":e[0]||(e[0]=t=>z.quantity=t)},x,512),[[l.bM,z.quantity]]),(0,i._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[1]||(e[1]=t=>I.addCart(z.product.id)),disabled:this.status.loadingItem===z.product.id},[this.status.loadingItem===z.product.id?((0,i.wg)(),(0,i.iD)("div",$)):(0,i.kq)("",!0),q],8,U)])])])],64)}var I={inject:["emitter"],data(){return{product:[],loading:!1,quantity:0,status:{loadingItem:""}}},methods:{addCart(t){if(0===this.quantity)this.emitter.emit("push-message",{style:"danger",title:"請選擇購買數量"});else{this.status.loadingItem=t;const e="https://vue3-course-api.hexschool.io/api/much-shopping-api/cart",o={product_id:t,qty:+this.quantity};this.$http.post(e,{data:o}).then((t=>{t.data.success?(this.emitter.emit("push-message",{style:"success",title:"已加入購物車"}),console.log(t),this.status.loadingItem=""):this.emitter.emit("push-message",{style:"danger",title:"發生錯誤",content:t.data.message})}))}}},created(){const t=this.$route.params.productId,e=`https://vue3-course-api.hexschool.io/api/much-shopping-api/product/${t}`;this.loading=!0,this.$http.get(e).then((t=>{this.loading=!1,this.product=t.data.product})),window.scrollTo(0,0)}},C=o(89);const j=(0,C.Z)(I,[["render",z]]);var T=j}}]);
//# sourceMappingURL=114.e34a85b6.js.map